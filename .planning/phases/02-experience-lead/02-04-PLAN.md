---
phase: 02-experience-lead
plan: 04
type: execute
domain: staff-dashboard
---

<objective>
Implement Staff Dashboard analytics charts using Recharts with mock data.

Purpose: Give staff visual insights into registration trends, program distribution, and volunteer coverage.
Output: Working analytics charts that display mock data (ready for real data when Person 2/3 backend is complete).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Existing frontend infrastructure:**
@frontend/src/components/staff/AnalyticsCharts.jsx
@frontend/src/components/staff/StaffDashboard.jsx
@frontend/src/services/staff.api.js

**Key patterns:**
- Recharts 2.10.3 is already installed (in package.json)
- AnalyticsCharts.jsx is a stub showing placeholder content
- StaffDashboard exists and includes AnalyticsCharts
- staffApi.getAnalytics() calls /staff/analytics (returns mock zeros)
- Backend analytics_service.py has methods but needs real data from Person 2

**Design constraints:**
- Use mock data in frontend for now (don't depend on backend data)
- Charts should be responsive
- Match existing Tailwind styling patterns
- Keep it simple: Line chart, Pie chart, Bar chart

**Recharts docs reference:**
- LineChart, PieChart, BarChart components
- ResponsiveContainer for responsive sizing
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create mock analytics data for charts</name>
  <files>frontend/src/mocks/analytics.mock.js</files>
  <action>
Create mock data file for analytics charts:

1. Weekly registration trends (last 4 weeks):
   - Array of { week: "Week 1", registrations: 45 }
   - Realistic-looking data for demo

2. Program type distribution:
   - { name: "Arts & Crafts", value: 35 }
   - { name: "Exercise", value: 28 }
   - { name: "Social Activities", value: 22 }
   - { name: "Music Therapy", value: 15 }

3. Volunteer coverage by day:
   - { day: "Mon", covered: 85, uncovered: 15 }
   - Array for each weekday

4. Summary metrics:
   - totalActivities, totalRegistrations, volunteerCoverage, upcomingActivities

Export functions: getWeeklyTrends(), getProgramBreakdown(), getVolunteerCoverage(), getDashboardMetrics()
  </action>
  <verify>Node syntax check: `node -e "require('./frontend/src/mocks/analytics.mock.js')"`</verify>
  <done>Mock analytics data file created with realistic demo data</done>
</task>

<task type="auto">
  <name>Task 2: Implement AnalyticsCharts with Recharts visualizations</name>
  <files>frontend/src/components/staff/AnalyticsCharts.jsx</files>
  <action>
Replace stub with actual Recharts implementations:

1. Import Recharts components:
   - LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend
   - PieChart, Pie, Cell
   - BarChart, Bar
   - ResponsiveContainer

2. Import mock data functions

3. Create three chart sections:
   a. Registration Trends (LineChart)
      - Shows weekly registrations over time
      - Blue line, responsive container

   b. Program Distribution (PieChart)
      - Shows breakdown by program type
      - Different colors for each segment
      - Legend below chart

   c. Volunteer Coverage (BarChart)
      - Stacked bar showing covered vs uncovered
      - Green for covered, gray for uncovered

4. Use Card component for each chart section
5. Add proper headings and styling matching existing patterns
  </action>
  <verify>npm run dev, navigate to staff dashboard, charts should render without errors</verify>
  <done>AnalyticsCharts displays three working Recharts visualizations</done>
</task>

<task type="auto">
  <name>Task 3: Add summary metrics cards to StaffDashboard</name>
  <files>frontend/src/components/dashboard/StaffDashboard.jsx</files>
  <action>
Enhance StaffDashboard to show summary metrics above the charts:

1. Import mock getDashboardMetrics()
2. Add state for metrics (useState)
3. Load metrics on mount (useEffect)
4. Create metrics cards row at top of dashboard:
   - Total Activities (number)
   - Total Registrations (number)
   - Volunteer Coverage (percentage)
   - Upcoming Activities (number)
5. Use Card or simple div with Tailwind styling
6. Use lucide-react icons for visual appeal

Layout:
- 4 metric cards in a row (grid)
- AnalyticsCharts below
- Existing content (ActivityManager, AttendanceExporter) below charts
  </action>
  <verify>npm run dev, navigate to staff dashboard, see 4 metric cards at top with numbers</verify>
  <done>StaffDashboard shows summary metrics cards above charts</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` starts without errors
- [ ] Staff dashboard loads (need to log in as staff user)
- [ ] 4 summary metric cards visible with numbers
- [ ] Line chart shows registration trends
- [ ] Pie chart shows program distribution
- [ ] Bar chart shows volunteer coverage
- [ ] Charts are responsive (resize browser to verify)
</verification>

<success_criteria>

- Mock analytics data file created
- AnalyticsCharts shows three working Recharts visualizations
- StaffDashboard displays summary metrics cards
- Charts render with mock data
- No console errors
- Responsive layout works on different screen sizes
</success_criteria>

<output>
After completion, create `.planning/phases/02-experience-lead/02-04-SUMMARY.md`
</output>
