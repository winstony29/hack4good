---
phase: 02-experience-lead
plan: 01
type: execute
domain: accessibility
---

<objective>
Implement CSS-based accessibility features: font size scaling and high contrast mode.

Purpose: Enable users with visual impairments to customize the interface for better readability.
Output: Working font size toggle (small/medium/large) and high contrast mode with proper CSS classes.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Existing accessibility infrastructure:**
@frontend/src/contexts/AccessibilityContext.jsx
@frontend/src/components/accessibility/AccessibilityMenu.jsx
@frontend/src/utils/constants.js

**Key patterns:**
- AccessibilityContext already manages fontSize, contrast, language, reduceMotion state
- Settings are persisted to localStorage
- Document root gets classes applied: `font-${fontSize} contrast-${contrast}`
- AccessibilityMenu already has UI for toggling these settings
- Missing: The actual CSS that implements font-small, font-medium, font-large, contrast-high

**Tailwind config:**
@frontend/tailwind.config.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create accessibility.css with font size and contrast classes</name>
  <files>frontend/src/styles/accessibility.css</files>
  <action>
Create CSS file with:

1. Font size classes applied to html element:
   - `.font-small` - base 14px
   - `.font-medium` - base 16px (default)
   - `.font-large` - base 20px

2. High contrast mode:
   - `.contrast-high` - High contrast colors with CSS variables
   - Override --color-bg, --color-text, --color-primary for high visibility
   - Yellow on black is standard high contrast pattern

3. Use CSS custom properties for easy theming:
   - Define --a11y-bg, --a11y-text, --a11y-primary, --a11y-border
   - .contrast-normal uses default Tailwind colors
   - .contrast-high uses high-visibility colors

4. Ensure selectors work with Tailwind's utility classes (no conflicts)
  </action>
  <verify>File exists at frontend/src/styles/accessibility.css with .font-small, .font-medium, .font-large, .contrast-normal, .contrast-high classes</verify>
  <done>CSS file created with all accessibility classes defined</done>
</task>

<task type="auto">
  <name>Task 2: Import accessibility.css in main entry point</name>
  <files>frontend/src/main.jsx</files>
  <action>
Add import for the new accessibility.css file:
- Import after index.css to ensure accessibility overrides can take effect
- The import should be: `import './styles/accessibility.css'`

Note: The styles directory may not exist yet - create it if needed.
  </action>
  <verify>grep for "accessibility.css" in frontend/src/main.jsx shows the import</verify>
  <done>accessibility.css is imported and will be loaded with the app</done>
</task>

<task type="auto">
  <name>Task 3: Apply accessibility CSS variables to key components</name>
  <files>frontend/src/components/layout/Layout.jsx, frontend/src/components/shared/Card.jsx</files>
  <action>
Update Layout.jsx and Card.jsx to use CSS variables for high contrast support:

1. In Layout.jsx:
   - Add CSS variable-based styling for the main container
   - Use var(--a11y-bg) for background when in high contrast mode
   - Ensure the layout respects the contrast mode class on html element

2. In Card.jsx:
   - Cards should work with high contrast mode
   - Add conditional className or use CSS that responds to .contrast-high parent
   - Border should be more visible in high contrast mode

Do NOT change the core functionality - only add CSS variable support for theming.
  </action>
  <verify>Run `npm run dev` and toggle contrast mode in AccessibilityMenu - cards and layout should visibly change</verify>
  <done>Layout and Card components respect high contrast mode</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run dev` starts without CSS errors
- [ ] AccessibilityMenu opens and shows font size buttons
- [ ] Clicking font size buttons changes text size across the app
- [ ] Toggling high contrast changes background/text colors
- [ ] Settings persist after page refresh (localStorage)
</verification>

<success_criteria>

- accessibility.css exists with font size and contrast classes
- CSS is imported in main.jsx
- Font size toggle visibly changes text across the app
- High contrast mode changes colors for better visibility
- Existing functionality (AccessibilityContext, AccessibilityMenu) works unchanged
</success_criteria>

<output>
After completion, create `.planning/phases/02-experience-lead/02-01-SUMMARY.md`
</output>
