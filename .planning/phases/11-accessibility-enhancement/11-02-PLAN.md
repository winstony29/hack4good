---
phase: 11-accessibility-enhancement
plan: 02
type: execute
---

<objective>
Add skip-to-content link, improve keyboard navigation, add visible focus states, and integrate floating accessibility button into the app.

Purpose: Ensure full keyboard accessibility and integrate the new accessibility toolbar.
Output: Skip link at page top, consistent focus states, floating button in Layout component.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/phases/11-accessibility-enhancement/11-01-SUMMARY.md

**WCAG Requirements:**
- Skip to main content link (WCAG 2.4.1)
- Visible focus indicators (WCAG 2.4.7)
- Keyboard navigable (WCAG 2.1.1)
- No auto-playing media (WCAG 1.4.2)

@frontend/src/components/layout/Layout.jsx
@frontend/src/index.css
@frontend/src/App.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add skip-to-content link</name>
  <files>frontend/src/components/layout/Layout.jsx</files>
  <action>
Update the Layout component to include a skip-to-content link and main landmark, plus integrate the floating accessibility button:

```jsx
import Navbar from './Navbar'
import PageTransition from './PageTransition'
import FloatingAccessibilityButton from '../accessibility/FloatingAccessibilityButton'

export default function Layout({ children }) {
  return (
    <div className="min-h-screen bg-minds-cream">
      {/* Skip to main content link - visible on focus */}
      <a
        href="#main-content"
        className="
          sr-only focus:not-sr-only
          focus:fixed focus:top-4 focus:left-4 focus:z-[100]
          focus:px-4 focus:py-2 focus:bg-minds-coral focus:text-white
          focus:rounded-lg focus:shadow-lg focus:outline-none
          focus:ring-2 focus:ring-white
        "
      >
        Skip to main content
      </a>

      <Navbar />

      <main
        id="main-content"
        className="container mx-auto px-4 py-6"
        tabIndex={-1}
      >
        <PageTransition>
          {children}
        </PageTransition>
      </main>

      {/* Floating Accessibility Button */}
      <FloatingAccessibilityButton />
    </div>
  )
}
```

The skip link uses sr-only by default but becomes visible on focus. The main element has tabIndex={-1} so focus can be programmatically moved to it.
  </action>
  <verify>Tab from address bar shows skip link, clicking it moves focus to main content</verify>
  <done>Skip-to-content link visible on focus, floating accessibility button integrated</done>
</task>

<task type="auto">
  <name>Task 2: Add global focus styles</name>
  <files>frontend/src/index.css</files>
  <action>
Add comprehensive focus styles to the @layer components section:

```css
@layer components {
  /* Skip link */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-[100];
    @apply focus:px-4 focus:py-2 focus:bg-minds-coral focus:text-white;
    @apply focus:rounded-lg focus:shadow-lg;
  }

  /* Visible focus ring for all interactive elements */
  a:focus-visible,
  button:focus-visible,
  [role="button"]:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible,
  [tabindex]:focus-visible {
    @apply outline-none ring-2 ring-minds-coral ring-offset-2;
  }

  /* High contrast mode focus */
  [data-contrast="high"] a:focus-visible,
  [data-contrast="high"] button:focus-visible,
  [data-contrast="high"] [role="button"]:focus-visible,
  [data-contrast="high"] input:focus-visible,
  [data-contrast="high"] select:focus-visible,
  [data-contrast="high"] textarea:focus-visible {
    @apply ring-yellow-400 ring-offset-black;
  }

  /* Loading spinner - updated for coral theme */
  .spinner {
    @apply animate-spin rounded-full border-4 border-gray-200 border-t-minds-coral;
  }

  /* Focus styles for custom controls */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-minds-coral focus:ring-offset-2;
  }
}
```

These styles ensure consistent, visible focus indicators across all interactive elements.
  </action>
  <verify>Tab through page shows visible coral focus rings on all interactive elements</verify>
  <done>Global focus-visible styles added, high contrast focus styles, spinner updated</done>
</task>

<task type="auto">
  <name>Task 3: Add OpenDyslexic font import</name>
  <files>frontend/src/index.css</files>
  <action>
Add OpenDyslexic font from CDN at the top of index.css, after the existing font import:

```css
/* OpenDyslexic for readable font mode */
@import url('https://fonts.cdnfonts.com/css/opendyslexic');
```

Also add the font family definition in the [data-font="dyslexic"] selector (update the existing one from Phase 10):

```css
/* Readable font mode - OpenDyslexic */
[data-font="dyslexic"] {
  font-family: 'OpenDyslexic', sans-serif !important;
}

[data-font="dyslexic"] h1,
[data-font="dyslexic"] h2,
[data-font="dyslexic"] h3,
[data-font="dyslexic"] h4,
[data-font="dyslexic"] h5,
[data-font="dyslexic"] h6 {
  font-family: 'OpenDyslexic', sans-serif !important;
}

[data-font="dyslexic"] input,
[data-font="dyslexic"] button,
[data-font="dyslexic"] select,
[data-font="dyslexic"] textarea {
  font-family: 'OpenDyslexic', sans-serif !important;
}
```

OpenDyslexic is specifically designed for readers with dyslexia, making text more accessible.
  </action>
  <verify>Toggle readable font in accessibility panel shows OpenDyslexic across all text</verify>
  <done>OpenDyslexic font loads from CDN, applies when readable font toggle is enabled</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd frontend && npm run build` succeeds
- [ ] Tab from browser address bar shows skip link
- [ ] Skip link moves focus to main content area
- [ ] All buttons/links show coral focus ring on tab
- [ ] Floating accessibility button appears on all pages
- [ ] OpenDyslexic font loads when readable font toggle enabled
- [ ] High contrast mode shows yellow focus rings
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Full keyboard navigation works
- Skip link functional
- OpenDyslexic font available
</success_criteria>

<output>
After completion, create `.planning/phases/11-accessibility-enhancement/11-02-SUMMARY.md`
</output>
